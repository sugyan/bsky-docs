---
id: com-atproto-repo-apply-writes
title: "com.atproto.repo.applyWrites"
description: "*This endpoint is part of the atproto PDS repository management APIs. Requests usually require authentication (unlike the `com.atproto.sync.*` endpoints), and are made directly to the user's own PDS instance.*"
sidebar_label: "com.atproto.repo.applyWrites"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/at-protocol-xrpc-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"com.atproto.repo.applyWrites"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/xrpc/com.atproto.repo.applyWrites"}
  context={"endpoint"}
>
  
</MethodEndpoint>



*This endpoint is part of the atproto PDS repository management APIs. Requests usually require authentication (unlike the `com.atproto.sync.*` endpoints), and are made directly to the user's own PDS instance.*

*To learn more about calling atproto API endpoints like this one, see the [API Hosts and Auth](/docs/advanced-guides/api-directory) guide.*

Apply a batch transaction of repository creates, updates, and deletes. Requires auth, implemented by PDS.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["repo","writes"],"properties":{"repo":{"type":"string","description":"The handle or DID of the repo (aka, current account).","format":"at-identifier"},"validate":{"type":"boolean","description":"Can be set to 'false' to skip Lexicon schema validation of record data across all operations, 'true' to require it, or leave unset to validate only for known Lexicons."},"writes":{"type":"array","items":{"oneOf":[{"type":"object","description":"Operation which creates a new record.","required":["collection","value"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string","maxLength":512},"value":{}},"title":"com.atproto.repo.applyWrites.create"},{"type":"object","description":"Operation which updates an existing record.","required":["collection","rkey","value"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string"},"value":{}},"title":"com.atproto.repo.applyWrites.update"},{"type":"object","description":"Operation which deletes an existing record.","required":["collection","rkey"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string"}},"title":"com.atproto.repo.applyWrites.delete"}]}},"swapCommit":{"type":"string","description":"If provided, the entire operation will fail if the current repo commit CID does not match this value. Used to prevent conflicting repo mutations.","format":"cid"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","required":[],"properties":{"commit":{"type":"object","required":["cid","rev"],"properties":{"cid":{"type":"string","format":"cid"},"rev":{"type":"string"}},"title":"com.atproto.repo.defs.commitMeta"},"results":{"type":"array","items":{"oneOf":[{"type":"object","required":["uri","cid"],"properties":{"uri":{"type":"string","format":"at-uri"},"cid":{"type":"string","format":"cid"},"validationStatus":{"type":"string","enum":["valid","unknown"]}},"title":"com.atproto.repo.applyWrites.createResult"},{"type":"object","required":["uri","cid"],"properties":{"uri":{"type":"string","format":"at-uri"},"cid":{"type":"string","format":"cid"},"validationStatus":{"type":"string","enum":["valid","unknown"]}},"title":"com.atproto.repo.applyWrites.updateResult"},{"type":"object","required":[],"properties":{},"title":"com.atproto.repo.applyWrites.deleteResult"}]}}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","required":["error","message"],"properties":{"error":{"type":"string","enum":["InvalidRequest","ExpiredToken","InvalidToken","InvalidSwap"]},"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","required":["error","message"],"properties":{"error":{"const":"AuthMissing"},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      